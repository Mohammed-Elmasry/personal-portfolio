---
import BaseLayout from '../layouts/BaseLayout.astro';
import Container from '../components/ui/Container.astro';
import Button from '../components/ui/Button.astro';
import Badge from '../components/ui/Badge.astro';

const skills = [
  { category: 'Backend', items: ['Java', 'Spring Boot', 'Spring Security', 'Spring Data & JPA', 'Hibernate', 'Go', 'C# / .NET'] },
  { category: 'Frontend & Data', items: ['JavaScript', 'TypeScript', 'React', 'MySQL', 'PostgreSQL', 'MongoDB', 'Redis'] },
  { category: 'DevOps & Cloud', items: ['AWS', 'Docker', 'Nginx', 'Jenkins', 'GitHub Actions', 'Maven', 'Kafka', 'RabbitMQ'] },
];

const timeline = [
  {
    year: '2024 — Present',
    title: 'Senior Software Engineer — Talabat',
    description: 'Redesigned the Payment Gateway service using C#, .NET, and Go, reducing processing latency by 25%. Designed a payment screening system handling 1000+ transactions per second with near real-time performance.',
  },
  {
    year: '2023 — 2024',
    title: 'Senior Software Engineer — Foodics',
    description: 'Improved importing performance by 400% using Apache Spark, Spring Boot, and PostgreSQL. Coached developers on TDD and Extreme Programming, improving delivery time by 20%.',
  },
  {
    year: '2019 — 2023',
    title: 'Mid-Senior Software Developer — IAMProperty',
    description: 'Transformed a PHP monolith to Java Spring microservices, reducing cloud infrastructure costs by 40%. Implemented CI/CD pipelines cutting release time by 50%.',
  },
  {
    year: '2015 — 2018',
    title: 'Junior Full-Stack Web Developer — ICS Global',
    description: 'Maintained the core ERP system using Java, Spring Boot, and MySQL. Developed taxation, accounting, and CRM modules. Built the Andalusia Clinics internal platform, reducing visitation duration from 23 to 16 minutes.',
  },
];
---

<BaseLayout title="About" description="Learn more about my background, skills, and experience as a software developer." schemaType="Person">
  <!-- Hero -->
  <section class="py-16 sm:py-20">
    <Container>
      <div class="lg:grid lg:grid-cols-[300px_1fr] lg:gap-16 lg:items-start">
        <div class="mb-10 lg:mb-0">
          <div class="aspect-square overflow-hidden rounded-2xl">
            <img src="/images/avatar.jpeg" alt="Mohammed Almasry" class="h-full w-full object-cover" />
          </div>
        </div>
        <div>
          <h1 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-4xl">
            About Me
          </h1>
          <div class="mt-6 space-y-4 text-lg text-slate-600 dark:text-slate-400">
            <p>
              I'm Mohammed, a senior software engineer with over 10 years of experience building
              high-performance, scalable systems. I've worked across fintech, proptech, and enterprise
              SaaS — from payment gateways processing thousands of transactions per second to
              microservices architectures serving global markets.
            </p>
            <p>
              I specialize in Java, Spring ecosystem, Go, and cloud-native solutions on AWS.
              I'm an AWS Certified Solutions Architect and a strong advocate for Domain-Driven Design,
              Test-Driven Development, and clean architecture.
            </p>
            <p>
              Beyond code, I've led technical workshops, coached junior and mid-level developers,
              and built open-source tools like Spring-Hex to improve developer experience across
              the Spring ecosystem.
            </p>
          </div>
          <div class="mt-8">
            <Button href="/contact">Get in Touch</Button>
          </div>
        </div>
      </div>
    </Container>
  </section>

  <!-- Skills -->
  <section class="bg-slate-50 py-16 dark:bg-slate-900/50 sm:py-20">
    <Container>
      <h2 class="mb-12 text-center text-3xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-4xl">
        Skills & Technologies
      </h2>
      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
        {
          skills.map((group) => (
            <div>
              <h3 class="mb-4 text-sm font-semibold uppercase tracking-wide text-slate-900 dark:text-white">
                {group.category}
              </h3>
              <div class="flex flex-wrap gap-2">
                {group.items.map((skill) => (
                  <Badge>{skill}</Badge>
                ))}
              </div>
            </div>
          ))
        }
      </div>
    </Container>
  </section>

  <!-- Experience Timeline -->
  <section class="py-16 sm:py-20">
    <Container>
      <h2 class="mb-12 text-center text-3xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-4xl">
        Experience
      </h2>
      <div class="mx-auto max-w-2xl">
        <div class="space-y-8">
          {
            timeline.map((item, i) => (
              <div class="relative pl-8 before:absolute before:left-0 before:top-0 before:h-full before:w-px before:bg-slate-200 dark:before:bg-slate-800">
                <div class="absolute left-0 top-1 -translate-x-1/2">
                  <div class="h-3 w-3 rounded-full border-2 border-primary-500 bg-white dark:bg-slate-950" />
                </div>
                <p class="text-sm font-medium text-primary-600 dark:text-primary-400">{item.year}</p>
                <h3 class="mt-1 text-lg font-semibold text-slate-900 dark:text-white">{item.title}</h3>
                <p class="mt-2 text-slate-600 dark:text-slate-400">{item.description}</p>
              </div>
            ))
          }
        </div>
      </div>
    </Container>
  </section>

  <!-- Values -->
  <section class="bg-slate-50 py-16 dark:bg-slate-900/50 sm:py-20">
    <Container>
      <h2 class="mb-12 text-center text-3xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-4xl">
        How I Work
      </h2>
      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
        {
          [
            { title: 'Clear Communication', description: 'Regular updates, transparent timelines, and honest conversations about challenges.' },
            { title: 'Quality First', description: 'Clean, tested, and well-documented code that\'s built to last and easy to maintain.' },
            { title: 'User-Centered', description: 'Every technical decision is guided by the impact it has on the end user experience.' },
            { title: 'Agile Approach', description: 'Iterative development with frequent demos so you see progress and can give feedback early.' },
            { title: 'Security Minded', description: 'Security best practices baked into every layer, from authentication to data handling.' },
            { title: 'Continuous Learning', description: 'Always staying current with the latest tools, patterns, and industry best practices.' },
          ].map((value) => (
            <div class="rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900">
              <h3 class="mb-2 text-lg font-semibold text-slate-900 dark:text-white">{value.title}</h3>
              <p class="text-sm text-slate-600 dark:text-slate-400">{value.description}</p>
            </div>
          ))
        }
      </div>
    </Container>
  </section>

  <!-- CTA -->
  <section class="py-16 sm:py-20">
    <Container>
      <div class="text-center">
        <h2 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-4xl">
          Let's Build Something Together
        </h2>
        <p class="mx-auto mt-4 max-w-2xl text-lg text-slate-600 dark:text-slate-400">
          I'm always excited to take on new challenges and help bring great ideas to life.
        </p>
        <div class="mt-8">
          <Button href="/contact" size="lg">Start a Conversation</Button>
        </div>
      </div>
    </Container>
  </section>
</BaseLayout>
