---
import Badge from '../ui/Badge.astro';
import { formatDate } from '../../utils/formatDate';
import { getReadingTime } from '../../utils/readingTime';

interface Props {
  id: string;
  title: string;
  description: string;
  pubDate: Date;
  tags: string[];
  body: string;
}

const { id, title, description, pubDate, tags, body } = Astro.props;
---

<a
  href={`/blog/${id}`}
  class="group rounded-xl border border-slate-200 bg-white p-6 transition-all hover:shadow-lg dark:border-slate-800 dark:bg-slate-900 dark:hover:shadow-slate-800/30"
>
  <div class="flex items-center gap-3 text-sm text-slate-500 dark:text-slate-500">
    <time datetime={pubDate.toISOString()}>{formatDate(pubDate)}</time>
    <span>&middot;</span>
    <span>{getReadingTime(body)}</span>
  </div>
  <h3
    class="mt-3 text-lg font-semibold text-slate-900 group-hover:text-primary-600 dark:text-white dark:group-hover:text-primary-400"
  >
    {title}
  </h3>
  <p class="mt-2 text-sm text-slate-600 dark:text-slate-400 line-clamp-2">{description}</p>
  <div class="mt-4 flex flex-wrap gap-1.5">
    {tags.map((tag) => <Badge variant="primary">{tag}</Badge>)}
  </div>
</a>
